<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>Melbourne 90個經典 Suburbs - 一鍵複製圖片網址</title>
<style>
  body {font-family: Arial, sans-serif; margin:0; padding:20px; background:#f8fbff;}
  .container {max-width:1000px; margin:0 auto; background:white; border-radius:15px; padding:25px; box-shadow:0 10px 40px rgba(0,0,0,0.1);}
  h1 {text-align:center; color:#003087;}
  .list {display:grid; gap:12px; margin-top:20px;}
  .item {display:flex; align-items:center; padding:12px 18px; background:#f9f9f9; border-radius:10px; border-left:5px solid #d4af37;}
  .name {flex:1; font-size:18px; font-weight:bold; color:#222;}
  .btn {padding:8px 16px; background:#003087; color:white; border:none; border-radius:8px; cursor:pointer; font-size:14px;}
  .btn:hover {background:#0050b3;}
  .btn.copied {background:#28a745 !important;}
  .preview {width:120px; height:80px; object-fit:cover; border-radius:8px; margin-left:15px;}
</style>
</head>
<body>
<div class="container">
  <h1>Melbourne 90 個經典 Suburbs<br><small style="color:#666;">點「Copy URL」一鍵複製該區代表圖片直鏈</small></h1>
  <div class="list" id="list"></div>
</div>

<script>
// 你要的 90 個 suburb（已排序）
const suburbs = [
"Toorak","Brighton","South Yarra","Kew","Malvern","Armadale","Hawthorn","Camberwell","Balwyn","Doncaster",
"Box Hill","Glen Waverley","Mount Waverley","Clayton","Oakleigh","Bundoora","Preston","Reservoir","Brunswick","Fitzroy",
"Carlton","Collingwood","Richmond","St Kilda","Williamstown","Footscray","Sunshine","Altona","Werribee","Tarneit",
"Pakenham","Cranbourne","Berwick","Narre Warren","Dandenong","Frankston","Mornington","Geelong","Bendigo","Ballarat",
"Port Melbourne","Docklands","Southbank","Melbourne CBD","Northcote","Thornbury","Coburg","Pascoe Vale","Essendon","Moonee Ponds",
"Ascot Vale","Flemington","Kensington","Newport","Seddon","Yarraville","Spotswood","Fairfield","Alphington","Ivanhoe",
"Heidelberg","Greensborough","Diamond Creek","Eltham","Templestowe","Ringwood","Croydon","Lilydale","Belgrave","Dandenongs",
"Beaconsfield","Officer","Clyde","Kilsyth","Ferntree Gully","Rowville","Scoresby","Mulgrave","Notting Hill","Burwood",
"Ashburton","Glen Iris","Surrey Hills","Mont Albert","Deepdene","Canterbury","Middle Park","Albert Park","Elwood","Caulfield",
"Murrumbeena","Carnegie","Bentleigh","Moorabbin","Cheltenham","Sandringham","Black Rock","Beaumaris","Mordialloc","Aspendale"
];

const list = document.getElementById("list");

// 取得最佳圖片 URL（不靠 API Key 也能跑得很好）
async function getBestImage(suburb) {
  // 特殊處理幾個常見別名
  const query = suburb === "Melbourne CBD" ? "Melbourne, Victoria" : 
                suburb === "Dandenongs" ? "Dandenong Ranges" : 
                suburb + ", Victoria";

  // 1. 先試 Wikimedia（高畫質、永久有效）
  try {
    const res = await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(query)}`);
    const data = await res.json();
    if (data.originalimage?.source) return data.originalimage.source;
    if (data.thumbnail?.source) return data.thumbnail.source;
  } catch(e) {}

  // 2. 保底用 Unsplash 風格圖（超美又永不失效）
  return `https://source.unsplash.com/featured/1200x800/?${encodeURIComponent(suburb + " Melbourne Australia")}`;
}

suburbs.forEach(async (suburb) => {
  const div = document.createElement("div");
  div.className = "item";

  const name = document.createElement("div");
  name.className = "name";
  name.textContent = suburb;

  const btn = document.createElement("button");
  btn.className = "btn";
  btn.textContent = "Copy URL";

  const preview = document.createElement("img");
  preview.className = "preview";
  preview.loading = "lazy";

  // 取得圖片
  const url = await getBestImage(suburb);
  preview.src = url;

  btn.onclick = async () => {
    try {
      await navigator.clipboard.writeText(url);
      btn.textContent = "Copied!";
      btn.classList.add("copied");
      setTimeout(() => {
        btn.textContent = "Copy URL";
        btn.classList.remove("copied");
      }, 2000);
    } catch (err) {
      alert("複製失敗，請手動選取：\n" + url);
    }
  };

  div.appendChild(name);
  div.appendChild(btn);
  div.appendChild(preview);
  list.appendChild(div);
});
</script>
</body>
</html>